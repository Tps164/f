<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Brawl Stats Mini App</title>
    <!-- –®—Ä–∏—Ñ—Ç—ã –∏ –ò–∫–æ–Ω–∫–∏ -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="style.css">
    <!-- Telegram WebApp Script -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>

    <!-- –≠–ö–†–ê–ù 1: –ü–†–ò–í–ï–¢–°–¢–í–ò–ï -->
    <div id="welcome-screen" class="screen active">
        <div class="welcome-content">
            <div class="logo-container">
                <span class="material-icons-round logo-icon">stars</span>
                <h1>BRAWL STATS</h1>
            </div>
            <p class="welcome-text">–ü—Ä–∏–≤–µ—Ç! üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ Brawl Stars</p>
            
            <div class="input-group">
                <label for="player-tag">Player ID</label>
                <div class="input-wrapper">
                    <span class="input-prefix">#</span>
                    <input type="text" id="player-tag" placeholder="ABC123XYZ" maxlength="15">
                </div>
                <div id="login-error" class="error-text" style="display: none;">–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∏–ª–∏ –∏–≥—Ä–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω</div>
            </div>

            <button id="btn-login" class="btn-primary">
                <span class="material-icons-round">search</span>
                –ü–û–õ–£–ß–ò–¢–¨ –°–¢–ê–¢–ò–°–¢–ò–ö–£
            </button>

            <div class="help-section">
                <h3>–ö–∞–∫ –Ω–∞–π—Ç–∏ Player ID?</h3>
                <p>–û—Ç–∫—Ä–æ–π—Ç–µ Brawl Stars -> –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –ø—Ä–æ—Ñ–∏–ª—è (—Å–ª–µ–≤–∞ –≤–≤–µ—Ä—Ö—É) -> –°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID –ø–æ–¥ –≤–∞—à–µ–π –∞–≤–∞—Ç–∞—Ä–∫–æ–π.</p>
            </div>
        </div>
    </div>

    <!-- –≠–ö–†–ê–ù –ó–ê–ì–†–£–ó–ö–ò -->
    <div id="loader-screen" class="screen">
        <div class="loader"></div>
        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</p>
    </div>

    <!-- –û–°–ù–û–í–ù–û–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–ï -->
    <div id="app-container" class="screen">
        <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
        <header class="app-header">
            <div class="user-mini-profile">
                <div class="user-icon-frame">
                    <img id="header-avatar" src="https://cdn-icons-png.flaticon.com/512/10692/10692827.png" alt="Avatar">
                </div>
                <div class="user-info-text">
                    <h2 id="header-username">Username</h2>
                    <span id="header-tag">#TAG</span>
                </div>
            </div>
            <button id="btn-refresh" class="btn-icon">
                <span class="material-icons-round">refresh</span>
            </button>
        </header>

        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç —Ç–∞–±–æ–≤ -->
        <main class="content-area">
            
            <!-- –¢–ê–ë 1: –ì–õ–ê–í–ù–ê–Ø -->
            <div id="tab-home" class="tab-content active">
                <div class="stats-grid">
                    <div class="stat-card primary">
                        <span class="material-icons-round stat-icon">emoji_events</span>
                        <div class="stat-value" id="home-trophies">0</div>
                        <div class="stat-label">–¢–µ–∫—É—â–∏–µ —Ç—Ä–æ—Ñ–µ–∏</div>
                    </div>
                    <div class="stat-card">
                        <span class="material-icons-round stat-icon">trending_up</span>
                        <div class="stat-value" id="home-max-trophies">0</div>
                        <div class="stat-label">–ú–∞–∫—Å. —Ç—Ä–æ—Ñ–µ–∏</div>
                    </div>
                    <div class="stat-card">
                        <span class="material-icons-round stat-icon">stars</span>
                        <div class="stat-value" id="home-exp-level">0</div>
                        <div class="stat-label">–£—Ä–æ–≤–µ–Ω—å –æ–ø—ã—Ç–∞</div>
                    </div>
                </div>

                <div class="wins-container">
                    <div class="win-block">
                        <span class="win-icon red">3v3</span>
                        <span class="win-count" id="home-3v3">0</span>
                        <span class="win-label">–ü–æ–±–µ–¥—ã 3x3</span>
                    </div>
                    <div class="win-block">
                        <span class="win-icon green">Solo</span>
                        <span class="win-count" id="home-solo">0</span>
                        <span class="win-label">Solo SD</span>
                    </div>
                    <div class="win-block">
                        <span class="win-icon blue">Duo</span>
                        <span class="win-count" id="home-duo">0</span>
                        <span class="win-label">Duo SD</span>
                    </div>
                </div>

                <div class="info-card">
                    <div class="row">
                        <span>–†–µ–π—Ç–∏–Ω–≥ –∞–∫–∫–∞—É–Ω—Ç–∞</span>
                        <span class="grade" id="home-grade">B+</span>
                    </div>
                    <div class="row">
                        <span>–ù–µ–¥–∞–≤–Ω–∏–π –≤–∏–Ω—Ä–µ–π—Ç</span>
                        <span class="highlight-text" id="home-winrate">54%</span>
                    </div>
                </div>
            </div>

            <!-- –¢–ê–ë 2: –ë–û–ô–¶–´ -->
            <div id="tab-brawlers" class="tab-content">
                <div class="filter-bar">
                    <div class="search-wrap">
                        <span class="material-icons-round">search</span>
                        <input type="text" id="brawler-search" placeholder="–ü–æ–∏—Å–∫ –±–æ–π—Ü–∞...">
                    </div>
                    <select id="brawler-sort">
                        <option value="trophies">–¢—Ä–æ—Ñ–µ–∏ ‚ñº</option>
                        <option value="rank">–†–∞–Ω–≥ ‚ñº</option>
                        <option value="power">–°–∏–ª–∞ ‚ñº</option>
                    </select>
                </div>
                <div class="section-title">
                    –ù–∞–π–¥–µ–Ω–Ω—ã–µ –±–æ–π—Ü—ã: <span id="brawlers-count">0/0</span>
                </div>
                <div id="brawlers-list" class="brawlers-grid">
                    <!-- –°—é–¥–∞ JS –¥–æ–±–∞–≤–∏—Ç –±–æ–π—Ü–æ–≤ -->
                </div>
            </div>

            <!-- –¢–ê–ë 3: –†–ï–ñ–ò–ú–´ (Mock data for demo) -->
            <div id="tab-modes" class="tab-content">
                <div id="modes-list" class="modes-list">
                    <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è JS -->
                </div>
            </div>

            <!-- –¢–ê–ë 4: –ü–†–û–ì–†–ï–°–° -->
            <div id="tab-progress" class="tab-content">
                <div class="progress-card">
                    <h3>–ö–æ–ª–ª–µ–∫—Ü–∏—è</h3>
                    <div class="collection-item">
                        <div class="col-header">
                            <span>–ë–æ–π—Ü—ã</span>
                            <span id="prog-brawlers">0/0</span>
                        </div>
                        <div class="progress-track"><div class="progress-fill" id="fill-brawlers" style="width: 0%"></div></div>
                    </div>
                    <div class="collection-item">
                        <div class="col-header">
                            <span>–ó–≤—ë–∑–¥–Ω—ã–µ —Å–∏–ª—ã</span>
                            <span id="prog-star">0/0</span>
                        </div>
                        <div class="progress-track"><div class="progress-fill" id="fill-star" style="width: 0%"></div></div>
                    </div>
                    <div class="collection-item">
                        <div class="col-header">
                            <span>–ì–∞–¥–∂–µ—Ç—ã</span>
                            <span id="prog-gadgets">0/0</span>
                        </div>
                        <div class="progress-track"><div class="progress-fill" id="fill-gadgets" style="width: 0%"></div></div>
                    </div>
                </div>
            </div>
        </main>

        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
        <nav class="bottom-nav">
            <button class="nav-item active" data-tab="tab-home">
                <span class="material-icons-round">home</span>
                <span>–ì–ª–∞–≤–Ω–∞—è</span>
            </button>
            <button class="nav-item" data-tab="tab-brawlers">
                <span class="material-icons-round">groups</span>
                <span>–ë–æ–π—Ü—ã</span>
            </button>
            <button class="nav-item" data-tab="tab-modes">
                <span class="material-icons-round">sports_esports</span>
                <span>–†–µ–∂–∏–º—ã</span>
            </button>
            <button class="nav-item" data-tab="tab-progress">
                <span class="material-icons-round">analytics</span>
                <span>–ü—Ä–æ–≥—Ä–µ—Å—Å</span>
            </button>
        </nav>
    </div>

    <!-- –≠–ö–†–ê–ù –î–ï–¢–ê–õ–ï–ô –ë–û–ô–¶–ê (Modal) -->
    <div id="brawler-detail-screen" class="screen detail-view">
        <header class="detail-header">
            <button id="btn-back" class="btn-icon">
                <span class="material-icons-round">arrow_back</span>
            </button>
            <h2 id="detail-name">SHELLY</h2>
            <div style="width: 40px;"></div> <!-- spacer -->
        </header>
        <div class="detail-content">
            <div class="brawler-hero">
                <img id="detail-img" src="" alt="">
                <div class="brawler-badges">
                    <span class="badge power" id="detail-power">PWR 1</span>
                    <span class="badge rank" id="detail-rank">Rank 1</span>
                </div>
            </div>
            
            <div class="detail-stats-grid">
                <div class="d-stat">
                    <span class="label">–¢—Ä–æ—Ñ–µ–∏</span>
                    <span class="val" id="detail-trophies">0</span>
                </div>
                <div class="d-stat">
                    <span class="label">–ú–∞–∫—Å–∏–º—É–º</span>
                    <span class="val" id="detail-max-trophies">0</span>
                </div>
                <div class="d-stat">
                    <span class="label">–í–∏–Ω—Ä–µ–π—Ç</span>
                    <span class="val high" id="detail-winrate">--%</span>
                </div>
            </div>

            <div class="features-section">
                <h3>–°–Ω–∞—Ä—è–∂–µ–Ω–∏–µ</h3>
                <div class="gears-list" id="detail-gears">
                    <!-- –ò–∫–æ–Ω–∫–∏ –≥–∞–¥–∂–µ—Ç–æ–≤/—Å—Ç–∞—Ä–æ–∫ -->
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
